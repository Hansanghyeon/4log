# 다크모드, 라이트모드 버튼제작기

나는 다크모드를 좋아한다 눈에 피로감도 덜어주고 무엇보다 내 맘에들기 때문이다.  
그래서 처음부터 블로그를 제작할때 다크모르도 제작을했다. 하지만 운영하면서 느낄때 특정 포스트나 특정 페이지에서는 다크모드, 라이트모드 둘다 지원가능하게 만들어 주고싶었다. 그런 기능을 지원해주는 사이트들이 몇몇 눈에 띄었고 맥 모하비부터 다크모드를 지원하면서 다크모드 라이트모드 둘을 오고가는걸 쉽게 만들어서 그런기능이 필요하다 생각했다.

## 다크모드 라이트모드 오고갈수있는 Toggle 버튼 제작

버튼을 제작할까 아니면 원하는 버튼을 가져와 사용할까 생각했다. 뭐 나보다는 능력자들이 너무많기때문에 가져와서 그걸 활용하면서 어떻게 작성되었는지 살펴보기로했다.  
내가 사용한 다크모드 라이트모드 버튼 [Night Day Switch Small Mods](https://codepen.io/Skidmore/pen/QxdLLa)이 버튼을 사용해서 만든다! Toggle 버튼은 자신이 원하는 뭐든 상관없이 사용하면 된다.

간단하게 body태그에 class로만 다크모드와 라이트모드만 구분해주면 되기때문에 js코드 몇줄로만으로도 제작이가능했다.  
다크모드와 라이트모드 css같은경우는 이미다 만들어놓았기때문에 문제될껀없었다.

```js
$('버튼').on('click',function(){
  $('body').toggleClass('light');
  $('body').toggleClass('dark');
})
```

이렇게만 설정해주면 다크모드와 라이트모드 변경버튼 제작완료.

## 적용모드 유지방법 고민

나중에가니까 내가 다크모드로해놓았던거를 지속해줘야했다 다른페이지로 넘어가면 js는 초기화가되버려서 기준으로 라이트모드로잡아 라이트모르도 계속 돌아가는 것이다.  
곰곰히 생각해보다가 쿠키를 사용해서 정보를 저장해서 모드를 유지시키면되겠다 싶었다.

```js
var ver = $.cookie('ver');
if(ver == undefined){
  $.cookie('ver', 'light', {path: "/", domain: ".dan4log.com"});
  $('body').toggleClass('light');
}else if(ver == 'light'){
  $.cookie('ver', 'light', {path: "/", domain: ".dan4log.com"});
  $('body').toggleClass('light');
}else if(ver == 'dark'){
  $.cookie('ver', 'dark', {path: "/", domain: ".dan4log.com"});
  $('body').toggleClass('dark');
}
```

이런식으로 `ver`라는 키값에 지금해당하는 모드가 무엇인지 적용시키는 값을 저장하고 홈페이지가 로드될때 `ver`의 값을가져와서 body에 클래스를 부여하도록 만들었다.
뭐 간단한 로직이지만 나름 뿌듯하게 제작한것 같다.
